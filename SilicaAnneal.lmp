
clear
units         real
dimension     3
boundary    p p p
atom_style  charge

#atom_modify map array
variable dt equal .5

variable tVal equal 1000
variable tStep equal 1000
variable i loop 10
#read_data test10k.data

read_data data/SilicaCrystal3k.data


pair_style	    reaxff topcon.control
pair_coeff	    * * potential/HOSi.reax H O Si
#Pair style reaxff requires use of exactly one of the fix qeq/reaxff or fix qeq/shielded or fix acks2/reaxff commands 


neighbor        2 bin
neigh_modify    every 10 delay 0 check no

timestep ${dt}

thermo 10

dump d1 all custom 10 silicaanneal.dump id type q x y z ix iy iz mass element vx vy vz
dump_modify d1 element H O Si

velocity all create 7000.0 4928459 rot yes dist gaussian

fix r1 all qeq/reax 1 0.0 10.0 1e-6 reaxff

run 0

label temploop

variable curT equal temp+${tStep}
print ${curT}
fix f1 all nvt temp ${curT} ${curT} 100000
#fix f1 all nvt temp "${curT}+${i}*${tStep}" "${curT}+${i}*${tStep}" 10 tchain 3
run 5000

unfix f1

fix f1 all npt iso 0 0 5000 temp ${curT} ${curT} 100
run 5000

unfix f1

next i
jump SELF temploop


print 'done'





